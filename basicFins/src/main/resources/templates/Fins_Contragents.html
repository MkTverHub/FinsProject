<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="webapp/images/favicon.png">
    <title>Fin</title>
    <!-- Custom CSS -->

    <!-- Custom CSS -->
    <link href="webapp/css/normalize.css" rel="stylesheet">
    <link href="webapp/css/style.css" rel="stylesheet">
    <link href="webapp/css/main.css" rel="stylesheet">
    <script src="webapp/js/jquery-1.9.1.min.js"></script><!--Подцепляем jquery-->
    <script src = "webapp/js/js_contragentspage.js"></script><!--Подцепляем внешний скрипт-->
</head>

<body>

<!-- *************************************************************** -->
<!-- Главная обертка для всего сайта -->
<!-- *************************************************************** -->
<div class="vip-wrapper">

    <!-- *************************************************************** -->
    <!-- Верхнее Меню -->
    <!-- *************************************************************** -->
    <header th:replace="fragments\layouts\fragment_agrigate_layouts_header_menu_top.html :: header_fragment_1"></header>

    <!-- *************************************************************** -->
    <!-- Левое Меню -->
    <!-- *************************************************************** -->

    <section th:replace="fragments\layouts\fragment_agrigate_layouts_left_menu_sidebar.html :: left_menu_sidebar_1"></section>

    <!-- *************************************************************** -->
    <!-- Центральная часть -->
    <!-- *************************************************************** -->

    <section class="page-wrap">
        <div class="page-breadcrumb">
            <div class="row">
                <div class="col-7 align-self-center">
                    <h3 class="page-title text-truncate text-dark font-weight-medium mb-1">Контрагенты</h3>
                    <div class="d-flex align-items-center">
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb mt-2 p-0">
                                <li class="breadcrumb-item text-muted active" aria-current="page"><a href="#">Контрагенты с которыми вы работаете</a></li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>


        <div class="container">

            <!-- *************************************************************** -->
            <!-- Карточка с формой -->
            <!-- *************************************************************** -->

            <div class="row">
                <div class="col-sm-12 col-md-6">
                    <div class="card"> <!-- модуль c формой -->
                        <div class="card-body">
                            <!-- Форма с полями Контрагент-->
                            <form id="id_contragentform" action="#" method="post">
                                <div class="form-body">
                                    <!-- Поле ввода -->
                                    <div class="form-group mb-3">
                                        <h4 class="card-title">Добавить контрагента</h4>
                                        <h6 class="card-subtitle">Необходимо добавить контрагентов, с которыми вы будете работать</h6>
                                    </div>

                                    <!-- Системное. Действия insert/new/delete-->
                                    <div class="form-group f-d-n">
                                        <input type="text" class="form-control" id="cntragnt_db_action">
                                    </div>

                                    <!-- Системное. Id-->
                                    <div class="form-group f-d-n">
                                        <input type="text" class="form-control" id="cntragnt_id">
                                    </div>

                                    <!-- Поле ввода Название-->
                                    <div class="form-group">
                                        <div class="row">
                                            <label class="col-lg-3 align-self-center">Название</label>
                                            <div class="col-lg-9 align-self-center">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <input type="text" id="cntragnt_name" class="form-control" >
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Поле ввода Описание-->
                                    <div class="form-group">
                                        <div class="row">
                                            <label class="col-lg-3 align-self-center">Описание</label>
                                            <div class="col-lg-9 align-self-center">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <input type="text" id="cntragnt_desqription" class="form-control">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Поле ввода Почта-->
                                    <div class="form-group">
                                        <div class="row">
                                            <label class="col-lg-3 align-self-center">Почта</label>
                                            <div class="col-lg-9 align-self-center">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <input type="text" id="cntragnt_mail" class="form-control">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Поле ввода Телефон-->
                                    <div class="form-group">
                                        <div class="row">
                                            <label class="col-lg-3 align-self-center">Телефон</label>
                                            <div class="col-lg-9 align-self-center">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <input type="text" id="cntragnt_phone" class="form-control" >
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <!-- Кнопки для записи в БД -->
                            <div class="form-actions">
                                <div class="text-right">
                                    <button onClick='InsertContragent()' class="btn waves-effect waves-light btn-outline-primary btn-modif-size">Создать</button>
                                    <button onClick='SaveContragent()' class="btn waves-effect waves-light btn-outline-secondary btn-modif-size">Сохранить</button>
                                    <button onClick='ResetContragent()' class="btn waves-effect waves-light btn-outline-secondary btn-modif-size">Отменить</button>
                                    <button onClick='DeleteContragent()' class="btn waves-effect waves-light btn-outline-secondary btn-modif-size">Удалить</button>
                                </div>
                            </div>
                        </div>
                    </div> <!-- модуль c формой .end -->
                </div>

                <!--Форма реквизита-->
                <div class="col-sm-12 col-md-6">
                    <div class="card"> <!-- модуль c формой -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6 align-self-center">
                                    <h4 class="card-title">Форма для добавления реквизитов</h4>
                                    <h6 class="card-subtitle">Финансовая информация о ваших контрагентах</h6>
                                </div>
                                <div class="col-md-6 align-self-center">
                                    <div class="text-right">
                                        <button class="btn waves-effect waves-light btn-rounded btn-light ml-1" type="button" data-toggle="collapse" data-target="#collapseRequisites" aria-expanded="true" aria-controls="collapseRequisites">
                                            Реквизиты
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!--Форма реквизитов-->
                            <div class="collapse hide mt-3" id="collapseRequisites" style="">
                                <!-- Форма с полями -->
                                <form id="id_requisits_form" method="post">
                                    <div class="form-body">
                                        <!-- Поле ввода -->
                                        <div class="form-group">
                                            <h4 class="text-dark w-100 text-truncate font-weight-medium mb-0">Добавить реквизиты</h4>
                                        </div>

                                        <!-- Скрытое Поле ввода Действия inser/update/delete -->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">DB_Action</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_db_action" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Скрытое Поле Id  -->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Id</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_id" class="form-control" >
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Скрытое Поле Id Контрагента  -->
                                        <!--<div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">ContragentId</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_contragent_id" class="form-control" >
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>-->

                                        <!-- Поле ввода Название-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Название</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_name" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода Описание-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Описание</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_description" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода -->
                                        <div class="form-group mt-5">
                                            <h5 class="text-dark w-100 text-truncate font-weight-medium mb-0">Реквизиты контрагента</h5>
                                            <small>Нужны для выставления счета</small>
                                        </div>

                                        <!-- Поле ввода ИНН-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">ИНН</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_ReqINN" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода КПП-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">КПП</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_ReqKPP" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода -->
                                        <div class="form-group mt-5">
                                            <h6 class="text-dark w-100 text-truncate font-weight-medium mb-0">Реквизиты</h6>
                                        </div>

                                        <!-- Поле ввода Счет-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Счет</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_ReqFinsAcc" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода БИК-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">БИК</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_ReqBIK" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода Банк-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Банк</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_ReqBankName" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода Корр. счет-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Корр. счет</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_ReqCrspAcc" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода -->
                                        <div class="form-group mt-5">
                                            <h6 class="text-dark w-100 text-truncate font-weight-medium mb-0">Юридический адрес</h6>
                                        </div>

                                        <!-- Поле ввода Индекс-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Индекс</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_ReqAddrIndex" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода Город-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Город</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_ReqAddrCity" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода Адрес-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Адрес</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_ReqAddrString" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода -->
                                        <div class="form-group mt-5">
                                            <h6 class="text-dark w-100 text-truncate font-weight-medium mb-0">Контактная информация</h6>
                                        </div>

                                        <!-- Поле ввода Телефон-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Телефон</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_ReqPhoneNum" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода Почта-->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Почта</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_ReqEmail" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Поле ввода -->
                                        <div class="form-group">
                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Сайт</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" id="requisit_ReqWebSite" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                                <!-- Кнопки для записи в БД -->
                                <div class="form-actions">
                                    <div class="text-right">
                                        <button onClick='InsertContragentReq()' class="btn waves-effect waves-light btn-outline-primary">Создать</button>
                                        <button onClick='SaveContragentReq()' class="btn waves-effect waves-light btn-outline-secondary">Сохранить</button>
                                        <button onClick='ResetContragentReq()' class="btn waves-effect waves-light btn-outline-secondary">Отменить</button>
                                        <button onClick='DeleteContragentReq()' class="btn waves-effect waves-light btn-outline-secondary">Удалить</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- модуль c формой .end -->
                </div>

            </div>




            <!-- *************************************************************** -->
            <!-- Таблица - Список контрагентов -->
            <!-- *************************************************************** -->

            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h4 class="card-title">Все контрагенты</h4>
                                    <h6 class="card-subtitle">Полный список всех контрагентов. Вы можете изменить или удалить нужную запись, достаточно кликнув по записи.</h6>
                                </div>
                                <div class="col-md-6">
                                   <div class="text-right">
                                        <button id="id_CreateContragent" class="btn btn-outline-secondary">Создать</button>
                                        <button id="id_DellContragent" class="btn btn-dark">Удалить</button>
                                    </div> 
                                </div>
                            </div>
                            
                            <div class="table-responsive">
                                <table id="tb_contragentlist" class="table table-striped table-bordered no-wrap table-hover">
                                    <thead> <!-- Заголовок таблицы -->
                                    <tr>
                                        <th>Id</th>
                                        <th>Имя</th>
                                        <th>Описание</th>
                                        <th>Телефон</th>
                                        <th>Почта</th>
                                    </tr>
                                    </thead>
                                    <tbody id="contr_agent_table_body">
                                        <!--Ajax контекст-->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!--
            <div class="hidden-element">
                <Скрытая Форма сабмита нажатия на контрагента (все поля, чтобы контекст формы сохранялся после обновления)
                <form id="id_selected_contragent_form" method="post">
                    <input id="field_selected_contragent_num" class="form-control" type="text"  th:field="*{Contragentid}">
                    <input type="text" id="selected_cntragnt_name" class="form-control" th:field="*{Contragentname}">
                    <input type="text" id="selected_cntragnt_desqription" class="form-control" th:field="*{Contragentdescription}">
                    <input type="text" id="selected_cntragnt_mail" class="form-control" th:field="*{Contragentemail}">
                    <input type="text" id="selected_cntragnt_phone" class="form-control" th:field="*{Contragentphone}">
                </form>
            </div>
            -->

            <!-- *************************************************************** -->
            <!-- Таблица - Список реквизитов -->
            <!-- *************************************************************** -->

            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h4 class="card-title">Реквизиты контрагента</h4>
                                    <h6 class="card-subtitle">Полный список всех реквизитов контрагентов. Вы можете изменить или удалить нужную запись, достаточно кликнув по записи и перейдя в форму "Рекзвизиты"</h6>
                                </div>
                                <div class="col-md-6">
                                    <div class="text-right">
                                        <button id="id_CreateRequisit" class="btn btn-outline-secondary">Создать</button>
                                        <button id="id_DellRequisit" class="btn btn-dark">Удалить</button>
                                    </div>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table id="tb_cntragnt_requisits" class="table table-striped table-bordered no-wrap table-hover">
                                    <thead> <!-- Заголовок таблицы -->
                                    <tr>
                                        <th>Id</th>
                                        <th>Имя</th>
                                        <th>Описание</th>
                                        <th>ИНН</th>
                                        <th>КПП</th>
                                        <th>Счет</th>
                                        <th>БИК</th>
                                        <th>БАНК</th>
                                        <th>Кор. счет</th>
                                        <th>Адрес индекс</th>
                                        <th>Город</th>
                                        <th>Адрес</th>
                                        <th>Телефон</th>
                                        <th>Мыло</th>
                                    </tr>
                                    </thead>
                                    <tbody id="contragent_req_body">


                                    <tr class="fincrowlink requisitslist_row">
                                        <th text="${r.id}" value="${r.id}" class="cntr_req_id"></th><!--id-->
                                        <th text="${r.name}" value="${r.name}" class="cntr_req_name"></th><!--Имя-->
                                        <th text="${r.description}" value="${r.description}" class="cntr_req_description"></th><!--Описание-->
                                        <th text="${r.inn}" value="${r.inn}" class="cntr_req_inn"></th><!--ИНН-->
                                        <th text="${r.kpp}" value="${r.kpp}" class="cntr_req_kpp"></th><!--КПП-->
                                        <th text="${r.fins_acc}" value="${r.fins_acc}" class="cntr_req_acc"></th><!--Счет-->
                                        <th text="${r.bik}" value="${r.bik}" class="cntr_req_bik"></th><!--БИК-->
                                        <th text="${r.bank_name}" value="${r.bank_name}" class="cntr_req_bank_name"></th><!--БАНК-->
                                        <th text="${r.crsp_acc}" value="${r.crsp_acc}" class="cntr_req_crsp_acc"></th><!--Кор. счет-->
                                        <th text="${r.addr_index}" value="${r.addr_index}" class="cntr_req_addr_index"></th><!--Адрес индекс-->
                                        <th text="${r.addr_city}" value="${r.addr_city}" class="cntr_req_addr_city"></th><!--Город-->
                                        <th text="${r.addr_string}" value="${r.addr_string}" class="cntr_req_addr_string"></th><!--Адрес-->
                                        <th text="${r.phone_num}" value="${r.phone_num}" class="cntr_req_phone_num"></th><!--Телефон-->
                                        <th text="${r.email_addr}" value="${r.email_addr}" class="cntr_req_email_addr"></th><!--Мыло-->
                                    </tr>


                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <!-- *************************************************************** -->
            <!-- Таблица - Список проектов -->
            <!-- *************************************************************** -->

            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title">Список проектов</h4>
                            <h6 class="card-subtitle">Полный список всех проектов. Вы можете изменить или удалить нужный проект, достаточно кликнув по нему.</h6>
                            <div class="table-responsive">
                                <table id="zero_config" class="table table-striped table-bordered no-wrap table-hover">
                                    <thead> <!-- Заголовок таблицы -->
                                    <tr>
                                        <th>Контрагент</th>
                                        <th>Контакт</th>
                                        <th>Почта</th>
                                        <th>Телефон</th>
                                        <th>Сейчас на счете</th>
                                    </tr>
                                    </thead>
                                    <tbody> <!-- сюда вываливаються данные из в карточки создать проект -->
                                    <tr>
                                        <th text="${c.lockflg}">1</th><!--Контрагент-->
                                        <th text="${c.operdate}">2</th><!--Контакт-->
                                        <th text="${c.amount}">3</th><!--Почта-->
                                        <th text="${c.detail}">4</th><!--Телефон-->
                                        <th text="${c.strattr1}">5</th><!--На счете-->
                                    </tr>
                                    </tbody>
                                </table>
                            </div>


                        </div>
                    </div>
                </div>
            </div>

            <!-- *************************************************************** -->
            <!-- КОНЕЦ ЦЕНТРАЛЬНОГО БЛОКА -->
            <!-- *************************************************************** -->

        </div>

    </section>

</div>

</body>

<!-----------IVRIBIN User Script----------------------------->

<script type="text/javascript">
    //Событие загрузки страницы
    $(document).ready(function(){
        StartPage();
    });
</script>


<!------------FRAMEWORK Script----------------------------->
<script_fragment  th:replace="fragments\master\fragment_agrigate_master_script.html :: master_script_1"></script_fragment>

</html>
