
<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <user_fragment_1 th:replace="fragments\master\fragment_agrigate_master_head.html :: master_head_1"></user_fragment_1>
    <title>FinSpetsel - Финансовый</title>
    <script src="webapp/js/js_finsoperationpage.js"></script>
</head>

<body>
<!-- *************************************************************** -->
<!-- Главная обертка для всего сайта -->
<!-- *************************************************************** -->
<div class="vip-wrapper">
    <!-- *************************************************************** -->
    <!-- Верхнее Меню -->
    <!-- *************************************************************** -->
    <header th:replace="fragments\layouts\fragment_agrigate_layouts_header_menu_top.html :: header_fragment_1"></header>

    <!-- *************************************************************** -->
    <!-- Левое Меню -->
    <!-- *************************************************************** -->

    <section th:replace="fragments\layouts\fragment_agrigate_layouts_left_menu_sidebar.html :: left_menu_sidebar_1"></section>

    <!-- *************************************************************** -->
    <!-- Центральная часть -->
    <!-- *************************************************************** -->

    <section class="page-wrap">

        <div class="page-breadcrumb">
            <div class="row">

                <!-- Подробная информация о проекте -->
                <div class="col-7 align-self-center">
                    <h3 class="page-title text-truncate text-dark font-weight-medium mb-1">Продажа дерева и прочих материалов</h3>

                    <!-- Хлебные крошки -->
                    <div class="d-flex align-items-center">
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb mt-2 p-0">
                                <li class="breadcrumb-item text-muted active" aria-current="page"><a href="#">Ваши проекты</a></li>
                                <li class="breadcrumb-item text-muted" aria-current="page">Проект</li>
                            </ol>
                        </nav>
                    </div>
                </div>

                <!-- Общий фильтр по дате -->
                <div class="col-5 align-self-center">
                    <div class="customize-input float-right">
                        <select class="custom-select custom-select-set form-control bg-white border-0 custom-shadow custom-radius">
                            <option selected="">За все время</option>
                            <option value="1">Сегодня</option>
                            <option value="2">Вчера</option>
                            <option value="3">Последние 7 дней</option>
                            <option value="4">Последние 30 дней</option>
                        </select>
                    </div>
                </div>

            </div>
        </div>

        <div class="container">

            <!-- *************************************************************** -->
            <!-- Карточка Учета -->
            <!-- *************************************************************** -->

            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <div class="card">
                        <div class="card-body">
                            <!-- Шапка с полями РАСХОД ПЕРЕВОД ПРИХОД -->
                            <ul class="nav nav-tabs nav-justified nav-bordered mb-5">
                                <li class="nav-item">
                                    <a href="#" data-toggle="tab" aria-expanded="false" class="nav-link" id="expensebt">
                                        <i class="mdi mdi-home-variant d-lg-none d-block mr-1"></i>
                                        <span class="d-none d-lg-block font-weight-medium">- РАСХОД</span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="#" data-toggle="tab" aria-expanded="true" class="nav-link" id="transferbt">
                                        <i class="mdi mdi-account-circle d-lg-none d-block mr-1"></i>
                                        <span class="d-none d-lg-block font-weight-medium">→ ПЕРЕВОД</span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="#" data-toggle="tab" aria-expanded="false" class="nav-link active" id="arrivalbt">
                                        <i class="mdi mdi-settings-outline d-lg-none d-block mr-1"></i>
                                        <span class="d-none d-lg-block font-weight-medium">+ ПРИХОД </span>
                                    </a>
                                </li>
                            </ul>

                            <!--Мапим form с классом Financedataform и вешаем action для Controller-->
                            <form id="id_financedataform" action="#" method="post">
                                <div class="form-body">

                                    <!-- Системное. Поле хранящее тип редактирования записи (insert/update/delete)-->
                                    <div class="form-group f-d-n">
                                        <input type="text" class="form-control" id="finsedittypeid">
                                    </div>
                                    <!-- Системное. Поле тип финансовой операции profit - приход, expense - расход, transfer - перевод-->
                                    <div class="form-group f-d-n">
                                        <input type="text" class="form-control" id="finsopertypeid">
                                    </div>
                                    <!-- Системное. Поле ввода ID-->
                                    <div class="form-group f-d-n">
                                        <input type="text" class="form-control" id="recordid" >
                                    </div>
                                    <!-- Системное. Поле ввода Признак блокировки-->
                                    <div class="form-group f-d-n">
                                        <input type="text" class="form-control" id="fieldlockflgid" >
                                    </div>
                                    <!-- Системное. Поле ввода Id Контрагента-->
                                    <div class="form-group f-d-n">
                                        <input type="text" class="form-control" id="finscontragentid">
                                    </div>
                                    <!-- Системное. Поле ввода Id Реквизита-->
                                    <div class="form-group f-d-n">
                                        <input type="text" class="form-control" id="requisitesid" >
                                    </div>

                                    <!-- Системное. Поле ввода Project Id-->
                                    <div class="form-group f-d-n">
                                        <input type="text" class="form-control" id="projectidid" >
                                    </div>

                                    <!-- Поле ввода Сумма-->
                                    <div class="form-group">
                                        <div class="row">
                                            <label class="col-lg-4 align-self-center">Сумма</label>
                                            <div class="col-lg-8 align-self-center">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <input type="text" class="form-control" id="fieldamountid">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Поле ввода Счет поступления-->
                                    <div class="form-group" id="divpaymentaccinid">
                                        <div class="row">
                                            <label class="col-lg-4 align-self-center">Счет поступления</label>
                                            <div class="col-lg-8 align-self-center">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <!--<input type="text" class="form-control" id="paymentaccinid">-->
                                                        <select id="paymentaccinid_list" class="form-control" select_value="">
                                                            <option value="0">Выберете значение</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Поле ввода Счет списания-->
                                    <div class="form-group" id="divpaymentaccoutid">
                                        <div class="row">
                                            <label class="col-lg-4 align-self-center">Счет списания</label>
                                            <div class="col-lg-8 align-self-center">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <!--<input type="text" class="form-control" id="paymentaccoutid">-->
                                                        <select id="paymentaccoutid_list" class="form-control" select_value="">
                                                            <option value="0">Выберете значение</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Поле ввода Контрагент-->
                                    <div class="form-group" id="divcontragentfieldid">
                                        <div class="row">
                                            <label class="col-lg-4 align-self-center">Контрагент</label>
                                            <div class="col-lg-8 align-self-center">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <select id="contr_agent_select_field" class="form-control">
                                                            <option value="0">Выберете значение</option>
                                                            <option></option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                     <!-- Поле ввода Реквизиты-->
                                    <div class="form-group" id="divcontragentrequisitsid">
                                        <div class="row">
                                            <label class="col-lg-4 align-self-center">Реквизиты</label>
                                            <div class="col-lg-8 align-self-center">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <select id="contr_agent_requisits_list" class="form-control">
                                                            <option value="0">Выберете значение</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Поле ввода Статья-->
                                    <div class="form-group">
                                        <div class="row">
                                            <label class="col-lg-4 align-self-center">Статья</label>
                                            <div class="col-lg-8 align-self-center">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <!--<input type="text" class="form-control" id="finsarticleid" >-->
                                                        <select id="finsarticleid_list" class="form-control" select_value="">
                                                            <option value="0">Выберете значение</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Поле ввода Детали-->
                                    <div class="form-group">
                                        <div class="row">
                                            <label class="col-lg-4 align-self-center">Детали</label>
                                            <div class="col-lg-8 align-self-center">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <input type="text" class="form-control" id="fielddetailid">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                
                            </form>
                            <!-- Кнопки для записи в БД -->
                            <div class="form-actions">
                                <div class="text-right">
                                    <button onClick='NewFinsOperation()' class="btn waves-effect waves-light btn-outline-primary btn-modif-size">Создать</button>
                                    <button onClick='SaveFinsOperation()' class="btn waves-effect waves-light btn-outline-secondary btn-modif-size">Сохранить</button>
                                    <button onClick='ResetFinsOperation()' class="btn waves-effect waves-light btn-outline-secondary btn-modif-size">Отменить</button>
                                    <button onClick='DeleteFinsOperation()' class="btn waves-effect waves-light btn-outline-secondary btn-modif-size">Удалить</button>
                                </div>
                            </div>
                        </div>
                    </div> <!-- модуль с формой .end -->


                    <div class="card"><!-- модуль фильтр -->
                        <div class="card-body">

                            <div class="row">
                                <div class="col-md-6 align-self-center">
                                    <h5 class="text-muted font-weight-light mb-0 w-100 text-truncate">Поиск нужной операции</h5>
                                </div>
                                <div class="col-md-6 align-self-center">
                                    <div class="text-right">
                                        <button class="btn btn-outline-secondary ml-1" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="true" aria-controls="collapseExample">
                                            Фильтр
                                        </button>
                                    </div>
                                </div>
                            </div>


                            <div class="collapse hide mt-3" id="collapseExample" style="">
                                <!-- Форма с полями -->
                                <form action="#">
                                    <div class="form-body">


                                        <!-- Поле ввода в виде выпадающего списка -->
                                        <div class="form-group">

                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Тип операции</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="customize-input">
                                                                <select class="custom-select form-control bg-dark text-white">
                                                                    <option selected>Все</option>
                                                                    <option value="1">- Расход</option>
                                                                    <option value="2">→ Перевод</option>
                                                                    <option value="3">+ Приход</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <!-- Поле ввода -->
                                        <div class="form-group">

                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Сумма от</label>
                                                <div class="col-lg-3 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                                <label class="col-lg-1 align-self-center">до</label>
                                                <div class="col-lg-3 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <input type="text" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <!-- Поле ввода в виде выпадающего списка -->
                                        <div class="form-group">

                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Статьи</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="customize-input">
                                                                <select class="custom-select form-control">
                                                                    <option selected>EN</option>
                                                                    <option value="1">AB</option>
                                                                    <option value="2">AK</option>
                                                                    <option value="3">BE</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <!-- Поле ввода в виде выпадающего списка -->
                                        <div class="form-group">

                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Контрагенты</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="customize-input">
                                                                <select class="custom-select form-control">
                                                                    <option selected>EN</option>
                                                                    <option value="1">AB</option>
                                                                    <option value="2">AK</option>
                                                                    <option value="3">BE</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <!-- Поле ввода в виде выпадающего списка -->
                                        <div class="form-group">

                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Компании</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="customize-input">
                                                                <select class="custom-select form-control">
                                                                    <option selected>EN</option>
                                                                    <option value="1">AB</option>
                                                                    <option value="2">AK</option>
                                                                    <option value="3">BE</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <!-- Поле ввода в виде выпадающего списка -->
                                        <div class="form-group">

                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Счета</label>
                                                <div class="col-lg-9 align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="customize-input">
                                                                <select class="custom-select form-control">
                                                                    <option selected>EN</option>
                                                                    <option value="1">AB</option>
                                                                    <option value="2">AK</option>
                                                                    <option value="3">BE</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <!-- Поле ввода в виде выпадающего списка -->
                                        <div class="form-group">

                                            <div class="row">
                                                <label class="col-lg-3 align-self-center">Проекты</label>
                                                <div class="col-lg-9 align-self-center align-self-center">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="customize-input">
                                                                <select class="custom-select form-control">
                                                                    <option selected>EN</option>
                                                                    <option value="1">AB</option>
                                                                    <option value="2">AK</option>
                                                                    <option value="3">BE</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                    </div>

                                    <!-- Кнопки для записи в БД -->
                                    <div class="form-actions">
                                        <div class="text-right">
                                            <button type="submit" class="btn btn-info btn-modif-size">Поиск операции</button>
                                            <button type="reset" class="btn btn-dark btn-modif-size">Отменить</button>
                                        </div>
                                    </div>


                                </form>

                            </div>

                        </div>
                    </div><!-- модуль фильтр .end -->


                </div>


                <!-- *************************************************************** -->
                <!-- Какрточка с информацие -->
                <!-- *************************************************************** -->
                <div class="col-sm-12 col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex d-lg-flex d-md-block align-items-center">
                                <div>
                                    <h2 class="text-dark mb-1 w-100 text-truncate font-weight-medium" id="projectprofitid">2 785 222,99</h2>
                                    <h6 class="text-muted font-weight-normal mb-0 w-100 text-truncate">Деньги
                                    </h6>
                                </div>
                                <div class="ml-auto mt-md-3 mt-lg-0">
                                    <span class="opacity-7">₽</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex d-lg-flex d-md-block align-items-center">
                                <div>
                                    <h4 class="text-dark mb-1 w-100 text-truncate font-weight-medium">Транзакции:
                                    </h4>
                                </div>
                            </div>
                            <div class="d-flex d-lg-flex d-md-block align-items-center">
                                <div>
                                    <h6 class="font-weight-normal mb-0 w-100 text-truncate">Приход
                                    </h6>
                                </div>
                                <div class="ml-auto mt-md-1">+ 3 485
                                    <span class="opacity-7">₽</span>
                                </div>
                            </div>
                            <div class="d-flex d-lg-flex d-md-block align-items-center">
                                <div>
                                    <h6 class="font-weight-normal mb-0 w-100 text-truncate">Расход
                                    </h6>
                                </div>
                                <div class="ml-auto mt-md-1">- 22 100
                                    <span class="opacity-7">₽</span>
                                </div>
                            </div>
                            <div class="d-flex d-lg-flex d-md-block align-items-center">
                                <div>
                                    <h6 class="font-weight-normal mb-0 w-100 text-truncate">Сальдо
                                    </h6>
                                </div>
                                <div class="ml-auto mt-md-1">- 8 100
                                    <span class="opacity-7">₽</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
    </div>    

    <div class="container-fluid">
            <!-- *************************************************************** -->
            <!-- ТАБЛИЦА - ПОДРОБНАЯ ИФНОРМАЦИЯ -->
            <!-- *************************************************************** -->

            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title">Подробная информация</h4>
                            <h6 class="card-subtitle">Полный список всех операции по текущему проекту. Вы можете изменить или удалить нужную запись, достаточно кликнув по ней.</h6>
                            <div class="table-responsive">
                                <table id="financedatatable" class="table table-striped table-bordered no-wrap table-hover">
                                    <thead> <!-- Заголовок таблицы -->
                                    <tr>
                                        <th>Тип операции</th>
                                        <th>Row_ID</th>
                                        <th>Блок Флаг</th>
                                        <th>Дата опер.</th>
                                        <th>Сумма</th>
                                        <th>Счет поступления</th>
                                        <th>Счет списания</th>
                                        <th>Статья</th>
                                        <th>Id проекта</th>
                                        <th>Контрагент</th>
                                        <th>Реквизиты</th>
                                        <th>Детали</th>
                                    </tr>
                                    </thead>
                                    <tbody id="financetable">

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- *************************************************************** -->
            <!-- конец центрального блока -->
            <!-- *************************************************************** -->

        </div>
    </section>

    <!-- *************************************************************** -->
    <!-- конец главной обертки для всего сайта -->
    <!-- *************************************************************** -->

</div>


<!-----------IVRIBIN User Script----------------------------->
<!--
    Ajax в внешнем файле, чтобы работал нужно объявлять файл в начале html
-->

<script type="text/javascript">
    //Событие загрузки страницы
    $(document).ready(function(){
        StartPage();
    });
</script>


<!------------FRAMEWORK Script----------------------------->
<script_fragment  th:replace="fragments\master\fragment_agrigate_master_script.html :: master_script_1"></script_fragment>

</body>

</html>
